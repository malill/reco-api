<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Reco Carousel Example</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick.min.css'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick-theme.min.css'>
    <style>
        body {
            background-color: chocolate;
        }

        a {
            text-decoration: none;
            color: black;
        }

        .main {
            font-family: Arial;
            width: 700px;
            display: block;
            margin: 0 auto;
            padding-top: 20px;
        }

        .product-container {
            background-color: darkcyan;
            text-align: center;
            padding: 50px;
        }

        .product-name {
            vertical-align: middle;
            font-size: 6vh;
            font-weight: bold;
        }

        .reco-title {
            margin: 20px;
            margin-top: 40px;
            font-size: 20px;
            font-weight: bold;
        }

        .fcb-slider-item {
            background: lightblue;
            margin: 10px;
            padding: 15px;
            height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            text-align: center;
        }

        .slider-product-id {
            font-size: 15px;
        }

        .slider-product-name {
            font-size: 25px;
            font-weight: bold;
        }

        .slider-product-price {
            font-size: 25px;
        }

        .slider-item > p {
            font-size: 20px;
            font-weight: bold;
        }

        #addButton {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 15px 32px;
            text-decoration: none;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>

<body>
<div class="main">
    <div class="product-container">
        <p class="product-id">415
        <p class="product-name">Badeente</p>
    </div>

    <p class="reco-title">Random Recommendations</p>
    <div id="rand-reco-slider" class="slider slider-nav">
    </div>
    <p class="reco-title">Frequently Bought Together</p>
    <div id="fbt-reco-slider" class="slider slider-nav">
    </div>

    <!-- <button id="addButton">+ add Recos</button> -->
</div>

<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js'></script>
<script>
    $('.slider-nav').slick({
        slidesToShow: 3,
        slidesToScroll: 1,
        focusOnSelect: true,
        autoplay: true,
        autoplaySpeed: 2000,
        responsive: [
            {
                breakpoint: 1300,
                settings: {
                    slidesToShow: 2,
                    slidesToScroll: 1
                }
            }
        ]
    });
</script>

<script>
    $(document).ready(function () {

        $.ajax({
            url: `https://reco-api-p.herokuapp.com/api/v1/unpersonalized/random`
        }).then(function (data) {
            console.log(data)
            data.forEach(element => {
                $('#rand-reco-slider').slick('slickAdd', `
            <div class="slider-item">
                <div class="fcb-slider-item">
                  <div class="slider-product-id">${element["id"]}</div>
                  <div class="slider-product-name">${element["name"]}</div>
                  <div class="slider-product-price">${element["price"]} €</div>
                  </div>
            </div>`);
            });
        });

        productId = $('.product-id').text();
        $.ajax({
            url: `https://reco-api-p.herokuapp.com/api/v1/unpersonalized/fbt/${productId}`
        }).then(function (data) {
            data.forEach(element => {
                $('#fbt-reco-slider').slick('slickAdd', `
            <div class="slider-item">
                <div class="fcb-slider-item">
                  <div class="slider-product-id">${element["id"]}</div>
                  <div class="slider-product-name">${element["name"]}</div>
                  <div class="slider-product-price">${element["price"]} €</div>
                  </div>
            </div>`);
            });
        });

    });
</script>
</body>

</html>